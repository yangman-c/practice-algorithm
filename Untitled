/**
 * 从 index 开始检查并保持最大堆性质
 *
 * @array
 *
 * @index 检查的起始下标
 *
 * @heapSize 堆大小
 *
 **/
function maxHeapify(array, index, heapSize) {
  var iMax, iLeft, iRight;
  while (true) {
    iMax = index;
    iLeft = 2 * index + 1;
    iRight = 2 * (index + 1);
    if (iLeft < heapSize && array[index] < array[iLeft]) {
      iMax = iLeft;
    }

    if (iRight < heapSize && array[iMax] < array[iRight]) {
      iMax = iRight;
    }

    if (iMax != index) {
      swap(array, iMax, index);
      index = iMax;
    } else {
      break;
    }
  }
}

function swap(array, i, j) {
  var temp = array[i];
  array[i] = array[j];
  array[j] = temp;
}
